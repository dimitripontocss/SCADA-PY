#:kivy 2.1.0

<MainWidget>:
    orientation: 'vertical'
    canvas:
        Color:
            rgb: 0.5,0.5,0.5
        Rectangle:
            size: self.size
    BoxLayout:
        orientation: 'horizontal'
        size_hint: (1,0.1)
        spacing: 10
        Label:
            text:'SIMULADOR PLANTA INDUSTRIAL v1.0'
            size_hint_x: None
            width: 300
        BoxLayout:
            orientation: 'vertical'
            size_hint_x: None
            width: 400
            Label:
                text: 'Configurações'
            BoxLayout:
                orientation: 'horizontal'
                Button:
                    text: 'MODBUS'
                    on_release: root._modbusPopup.open()
                Button:
                    text: 'Scan Time'
                    on_release: root._scanPopup.open()
        Image:
            id: img_con
            size_hint_x: None
            width: 80
            source: 'imgs/desconectado.png'
            pos_hint: {'top':1, 'right':1}
    
    FloatLayout:
        canvas:
            Color:
                rgb: 0.5,0.5,0.5
            Rectangle:
                size: self.size
        Image:
            source: 'imgs/base.png'
            
        Button:
            id: motor
            text: 'Liga'
            on_release: root.motorController()
            size_hint: (None,None)
            size: (80,40)
            pos_hint: {'x':0.83,'y':0.635}
            background_color: 0.5, 0.5, 0.5, 1
            
        Button:
            id: config
            text: 'Configurações'
            on_release: root._motorConfig.open()
            background_color: 0.5, 0.5, 0.5, 1
            size_hint: (None,None)
            size: (100,40)
            pos_hint: {'x':0.83,'y':0.245}    

        Button:
            id: Solenoide_1
            text: 'Ativar'
            background_color: 0.5, 0.5, 0.5, 1
            size_hint: (None,None)
            size: (70,30)
            pos_hint: {'x':0.03,'y':0.47}
            on_release:
                root.solenoideController(1,s#:kivy 2.1.0

<MainWidget>:
    orientation: 'vertical'
    canvas:
        Color:
            rgb: 0.5,0.5,0.5
        Rectangle:
            size: self.size
    BoxLayout:
        orientation: 'horizontal'
        size_hint: (1,0.1)
        spacing: 10
        Label:
            text:'SIMULADOR PLANTA INDUSTRIAL v1.0'
            size_hint_x: None
            width: 300
        BoxLayout:
            orientation: 'vertical'
            size_hint_x: None
            width: 400
            Label:
                text: 'Configurações'
            BoxLayout:
                orientation: 'horizontal'
                Button:
                    text: 'MODBUS'
                    on_release: root._modbusPopup.open()
                Button:
                    text: 'Scan Time'
                    on_release: root._scanPopup.open()
        Image:
            id: img_con
            size_hint_x: None
            width: 80
            source: 'imgs/desconectado.png'
            pos_hint: {'top':1, 'right':1}
    
    FloatLayout:
        canvas:
            Color:
                rgb: 0.5,0.5,0.5
            Rectangle:
                size: self.size
        Image:
            source: 'imgs/base.png'
            
        Button:
            id: motor
            text: 'Liga'
            on_release: root.motorController()
            size_hint: (None,None)
            size: (80,40)
            pos_hint: {'x':0.83,'y':0.635}
            background_color: 0.5, 0.5, 0.5, 1
            
        Button:
            id: config
            text: 'Configurações'
            on_release: root._motorConfig.open()
            background_color: 0.5, 0.5, 0.5, 1
            size_hint: (None,None)
            size: (100,40)
            pos_hint: {'x':0.83,'y':0.245}    

        Button:
            id: Solenoide_1
            text: 'Ativar'
            background_color: 0.5, 0.5, 0.5, 1
            size_hint: (None,None)
            size: (70,30)
            pos_hint: {'x':0.03,'y':0.47}
            on_release:
                root.solenoideController(1,self)
        Image:
            id:sol1
            source: 'imgs/solenoideON.png'
            pos_hint:{'x':-0.3,'y':0.038} 
            opacity: 0
        Image:
            id:sol2
            source: 'imgs/solenoideON.png'
            pos_hint:{'x':-0.3,'y':-0.115} 
            opacity: 0
        Image:
            id:sol3
            source: 'imgs/solenoideON.png'
            pos_hint:{'x':-0.3,'y':-0.26} 
            opacity: 0
                

        Button:
            id: Solenoide_2
            text: 'Ativar'
            background_color: 0.5, 0.5, 0.5, 1
            size_hint: (None,None)
            size: (70,30)
            pos_hint: {'x':0.03,'y':0.33}
            on_release:
                root.solenoideController(2,self)
            
        Button:
            id: Solenoide_3
            text: 'Ativar'
            background_color: 0.5, 0.5, 0.5, 1
            size_hint: (None,None)
            size: (70,30)
            pos_hint: {'x':0.03,'y':0.18}
            on_release:
                root.solenoideController(3,self)


        Label:
            id: lb_res
            size_hint: (None,None)
            size: (reservatorio.size[0]*0.25,reservatorio.size[1])
            pos_hint: {'x':0.045,'y':0.544}
            canvas:
                Color:
                    rgb: 0,0,0.6
                Rectangle:
                    size: self.size
                    pos: (self.pos[0]+self.width*1.5,self.pos[1])
                           
        Label:
            id: reservatorio
            size_hint: 0.872,0.17
            pos_hint: lb_res.pos_hint

        Label:
            id: lb_vz
            size_hint: (None,None)
            size: (vazao.size[0]*0.25,vazao.size[1])
            pos_hint: {'x':0.582,'y':0.622}
            canvas:
                Color:
                    rgb: 0,0,1
                Rectangle:
                    size: self.size
                    pos: (self.pos[0]+self.width*1.5,self.pos[1])
                           
        Label:
            id: vazao
            size_hint: 0.1,0.17
            pos_hint: lb_vz.pos_hint


        Button:
            size_hint: (None,None)
            size: (0.65*62,0.65*58)
            background_normal: 'imgs/graph_icon.jpg'
            background_down: 'imgs/graph_icon.jpg'
            pos_hint: {'x':0.31,'y':0.7}
            on_release:
                root._nGraph.open()

        Button:
            size_hint: (None,None)
            size: (80,30)
            text: 'Setpoint'
            pos_hint: {'x':0,'y':0.6}
            on_release:
                root._setpointConfig.open()
                

        Button:
            size_hint: (None,None)
            size: (0.65*62,0.65*58)
            background_normal: 'imgs/graph_icon.jpg'
            background_down: 'imgs/graph_icon.jpg'
            pos_hint: {'x':0.646,'y':0.626}
            on_release:
                root._vGraph.open()

       
        Button:
            text: 'Dados Históricos'
            pos_hint: {'right':1,'down':1}
            size_hint: (0.2,0.05)
            on_release:
                root._hgraph.open()

        InfosLabel:
            id: temp_estator
            pos_hint: {'x':-0.28, 'y':0.392}
        InfosLabel:
            id: freq_mot
            pos_hint: {'x':-0.28, 'y':0.359}
        InfosLabel:
            id: tensao
            pos_hint: {'x':-0.28, 'y':0.327}
        InfosLabel:
            id: rotacao
            pos_hint: {'x':-0.28, 'y':0.292}
        InfosLabel:
            id: pot_entrada
            pos_hint: {'x':-0.28, 'y':0.259}
        InfosLabel:
            id: corrente
            pos_hint: {'x':-0.28, 'y':0.226}
        InfosLabel:
            id: setpoint
            pos_hint: {'x':-0.28, 'y':0.195}
        InfosLabel:
            id: nivel
            pos_hint: {'x':0.049, 'y':0.02}
        InfosLabel:
            id: vz_entrada
            pos_hint: {'x':0.2, 'y':0.36}
        


<InfosLabel@Label>:
    text: '---'
    font_size: 14
    bold: True
    haling: 'center'
    color: 0,0,0.1